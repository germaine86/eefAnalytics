<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Introduction to eefAnalytics</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to eefAnalytics</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(eefAnalytics)</span></code></pre></div>
<div id="description" class="section level1">
<h1>DESCRIPTION</h1>
<pre><code>Package: eefAnalytics
Type: Package
Title: Robust Analytical Methods for Evaluating Educational Interventions using Randomised Controlled Trials Designs
Version: 1.1.2
Author: Germaine Uwimpuhwe, Qing Zhang, Akansha Singh, Dimitris Vallis, Steve Higgins, ZhiMin Xiao, Ewoud De Troyer and Adetayo Kasim
Maintainer: Germaine Uwimpuhwe &lt;germaine.uwimpuhwe@durham.ac.uk&gt;
Description: Analysing data from evaluations of educational interventions using a randomised controlled trial design. Various analytical tools to perform sensitivity analysis using different methods are supported (e.g. frequentist models with bootstrapping and permutations options, Bayesian models). The included commands can be used for simple randomised trials, cluster randomised trials and multisite trials. The methods can also be used more widely beyond education trials. This package can be used to evaluate other intervention designs using Frequentist and Bayesian multilevel models.
License: AGPL (&gt;= 3)
Encoding: UTF-8
Roxygen: list(markdown = TRUE)
RoxygenNote:  7.3.1
Suggests: knitr, rmarkdown, testthat
VignetteBuilder: knitr
LazyData: true
URL: https://github.com/germaine86/eefAnalytics
BugReports: https://github.com/germaine86/eefanalytics/issues
Depends: 
    R (&gt;= 3.6.0)
Imports: 
    R2jags (&gt;= 0.7), 
    ggplot2 (&gt;= 3.4.0), 
    lme4 (&gt;= 1.1-34), 
    methods,
    graphics,
    stats,
    mvtnorm (&gt;= 1.2.0),
    coda (&gt;= 0.19),
    MCMCvis (&gt;= 0.16.3)
</code></pre>
</div>
<div id="compareplot-a-plot-function-to-compare-different-eefanalytics-s3-objects-from-the-eefanalytics-package." class="section level1">
<h1><code>ComparePlot</code>: A plot function to compare different
eefAnalytics S3 objects from the eefAnalytics package.</h1>
<div id="description-1" class="section level2">
<h2>Description</h2>
<p>It generates bar plot that compares the effect size from
eefAnalytics’ methods.</p>
</div>
<div id="usage" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">ComparePlot</span>(</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  eefAnalyticsList,</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  group,</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="at">Conditional =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="at">ES_Total =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  modelNames</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="arguments" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>eefAnalyticsList</code></td>
<td>A list of eefAnalytics S3 objects from eefAnalytics package.</td>
</tr>
<tr class="even">
<td><code>group</code></td>
<td>a string/scalar value indicating which intervention to plot. This
must be one of the values of intervention variable excluding the control
group. For a two arm trial, the maximum number of values to consider is
1 and 2 for three arm trial.</td>
</tr>
<tr class="odd">
<td><code>Conditional</code></td>
<td>a logical value to indicate whether to plot conditional effect size.
The default is Conditional=TRUE, otherwise Conditional=FALSE should be
specified for plot based on unconditional effect size. Conditional
variance is total or residual variance a multilevel model with fixed
effects, whilst unconditional variance is total variance or residual
variance from a multilevel model with only intercept as fixed
effect.</td>
</tr>
<tr class="even">
<td><code>ES_Total</code></td>
<td>A logical value indicating whether to plot the effect size based on
total variance or within school variance. The default is ES_Total=TRUE,
to plot effect size using total variance. ES_Total=FALSE should be
specified for effect size based on within school or residuals
variance.</td>
</tr>
<tr class="odd">
<td><code>modelNames</code></td>
<td>a string factor containing the names of model to compare. See
examples below.</td>
</tr>
</tbody>
</table>
</div>
<div id="details" class="section level2">
<h2>Details</h2>
<p><code>ComparePlot</code> produces a bar plot which compares the
effect sizes and the associated confidence intervals from the different
models. For a multilevel model, it shows the effect size based on
residual variance and total variance.</p>
</div>
<div id="value" class="section level2">
<h2>Value</h2>
<p>Returns a bar plot to compare the different methods. The returned
figure can be further modified as any <a href="https://ggplot2.tidyverse.org/reference/ggplot.html"><code>ggplot</code></a></p>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a> </span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a> </span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a> <span class="fu">data</span>(mstData)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a> <span class="do">##### SRT #####</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a> </span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a> outputSRT <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a> <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>, <span class="at">data =</span> mstData)</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a> </span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a> outputSRTBoot <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a> <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,<span class="at">nBoot=</span><span class="dv">1000</span>, <span class="at">data =</span> mstData)</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a> </span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a> <span class="do">##### MST #####</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a> </span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a> outputMST <span class="ot">&lt;-</span> <span class="fu">mstFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a> <span class="at">random =</span> <span class="st">&quot;School&quot;</span>, <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>, <span class="at">data =</span> mstData)</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a> </span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a> outputMSTBoot <span class="ot">&lt;-</span> <span class="fu">mstFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a> <span class="at">random =</span> <span class="st">&quot;School&quot;</span>, <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a> <span class="at">nBoot =</span> <span class="dv">1000</span>, <span class="at">data =</span> mstData)</span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a> </span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a> <span class="do">##################</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a> <span class="do">#### Bayesian ####</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a> <span class="do">##################</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a> </span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a> outputSRTbayes <span class="ot">&lt;-</span> <span class="fu">srtBayes</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a> <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,</span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a> <span class="at">nSim =</span> <span class="dv">2000</span>, <span class="at">data =</span> mstData)</span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a> </span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a> <span class="do">## comparing different results</span></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a> </span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a> <span class="fu">ComparePlot</span>(<span class="fu">list</span>(outputSRT,outputSRTBoot,outputMST,outputMSTBoot,outputSRTbayes),</span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a> <span class="at">modelNames =</span><span class="fu">c</span>(<span class="st">&quot;ols&quot;</span>, <span class="st">&quot;olsBoot&quot;</span>,<span class="st">&quot;MLM&quot;</span>,<span class="st">&quot;MLMBoot&quot;</span>,<span class="st">&quot;OLSBayes&quot;</span>),<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a> </span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a> </span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a> </span></code></pre></div>
</div>
</div>
<div id="crtbayes-bayesian-analysis-of-cluster-randomised-education-trials-using-vague-priors." class="section level1">
<h1><code>crtBayes</code>: Bayesian analysis of cluster randomised
education trials using Vague Priors.</h1>
<div id="description-2" class="section level2">
<h2>Description</h2>
<p><code>crtBayes</code> performs Bayesian multilevel analysis of
cluster randomised education trials, utilising vague priors and JAGS
language to fit the model. It assumes hierarchical clustering, such as
students within schools, and estimates treatment effects while
accounting for this structure.</p>
</div>
<div id="usage-1" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">crtBayes</span>(formula, random, intervention, <span class="at">nsim =</span> <span class="dv">10000</span>, data)</span></code></pre></div>
</div>
<div id="arguments-1" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>formula</code></td>
<td>the model to be analysed is of the form y ~ x1+x2+…. Where y is the
outcome variable and Xs are the independent variables.</td>
</tr>
<tr class="even">
<td><code>random</code></td>
<td>a string variable specifying the “clustering variable” as contained
in the data. See example below.</td>
</tr>
<tr class="odd">
<td><code>intervention</code></td>
<td>a string variable specifying the “intervention variable” as
appearing in the formula and the data. See example below.</td>
</tr>
<tr class="even">
<td><code>nsim</code></td>
<td>number of MCMC iterations per chain. Default is 2000.</td>
</tr>
<tr class="odd">
<td><code>data</code></td>
<td>data frame containing the data to be analysed.</td>
</tr>
</tbody>
</table>
</div>
<div id="value-1" class="section level2">
<h2>Value</h2>
<p>S3 object; a list consisting of</p>
<ul>
<li><p><code>Beta</code> : Estimates and credible intervals for
variables specified in the model. Use <code>summary.eefAnalytics</code>
to get Rhat and effective sample size for each estimate.</p></li>
<li><p><code>ES</code> : Conditional Hedges’ g effect size and its 95 %
credible intervals.</p></li>
<li><p><code>covParm</code> : A vector of variance decomposition into
between cluster variance (Schools) and within cluster variance (Pupils).
It also contains intra-cluster correlation (ICC).</p></li>
<li><p><code>ProbES</code> : A matrix of Bayesian Posterior
Probabilities such that the observed effect size is greater than or
equal to a pre-specified threshold(s).</p></li>
<li><p><code>Unconditional</code> : A list of unconditional effect
sizes, covParm and ProbES obtained based on between and within cluster
variances from the unconditional model (model with only the intercept as
a fixed effect).</p></li>
</ul>
</div>
<div id="examples-1" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a> </span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>   <span class="fu">data</span>(crtData)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="do">########################################################</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  <span class="do">## Bayesian analysis of cluster randomised trials     ##</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  <span class="do">########################################################</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">crtBayes</span>(<span class="at">formula =</span> Posttest <span class="sc">~</span> Prettest <span class="sc">+</span> Intervention,</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>                     <span class="at">random =</span> <span class="st">&quot;School&quot;</span>,</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>                     <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>                     <span class="at">nsim =</span> <span class="dv">10000</span>,</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>                     <span class="at">data =</span> crtData)</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a>  output</span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a>  <span class="do">### Fixed effects</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a>  beta <span class="ot">&lt;-</span> output<span class="sc">$</span>Beta</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a>  beta</span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a>  <span class="do">### Effect size</span></span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a>  ES1 <span class="ot">&lt;-</span> output<span class="sc">$</span>ES</span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a>  ES1</span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a>  <span class="do">## Covariance matrix</span></span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a>  covParm <span class="ot">&lt;-</span> output<span class="sc">$</span>covParm</span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a>  covParm</span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" tabindex="-1"></a>  <span class="do">### plot random effects for schools</span></span>
<span id="cb6-28"><a href="#cb6-28" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" tabindex="-1"></a>  <span class="fu">plot</span>(output)</span>
<span id="cb6-30"><a href="#cb6-30" tabindex="-1"></a></span>
<span id="cb6-31"><a href="#cb6-31" tabindex="-1"></a>  <span class="do">### plot posterior probability of an effect size to be bigger than a pre-specified threshold</span></span>
<span id="cb6-32"><a href="#cb6-32" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" tabindex="-1"></a>  <span class="fu">plot</span>(output,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb6-34"><a href="#cb6-34" tabindex="-1"></a></span>
<span id="cb6-35"><a href="#cb6-35" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" tabindex="-1"></a>  <span class="do">###########################################################################################</span></span>
<span id="cb6-37"><a href="#cb6-37" tabindex="-1"></a>  <span class="do">## Bayesian analysis of cluster randomised trials using informative priors for treatment ##</span></span>
<span id="cb6-38"><a href="#cb6-38" tabindex="-1"></a>  <span class="do">###########################################################################################</span></span>
<span id="cb6-39"><a href="#cb6-39" tabindex="-1"></a></span>
<span id="cb6-40"><a href="#cb6-40" tabindex="-1"></a>  <span class="do">### define priors for explanatory variables</span></span>
<span id="cb6-41"><a href="#cb6-41" tabindex="-1"></a></span>
<span id="cb6-42"><a href="#cb6-42" tabindex="-1"></a>  my_prior <span class="ot">&lt;-</span> <span class="fu">normal</span>(<span class="at">location =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">6</span>), <span class="at">scale =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">1</span>))</span>
<span id="cb6-43"><a href="#cb6-43" tabindex="-1"></a></span>
<span id="cb6-44"><a href="#cb6-44" tabindex="-1"></a>  <span class="do">### specify the priors for the conditional model only</span></span>
<span id="cb6-45"><a href="#cb6-45" tabindex="-1"></a></span>
<span id="cb6-46"><a href="#cb6-46" tabindex="-1"></a>  output2 <span class="ot">&lt;-</span> <span class="fu">crtBayes</span>(Posttest<span class="sc">~</span> Prettest<span class="sc">+</span>Intervention,<span class="at">random=</span><span class="st">&quot;School&quot;</span>,</span>
<span id="cb6-47"><a href="#cb6-47" tabindex="-1"></a>                     <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nsim=</span><span class="dv">2000</span>,<span class="at">data=</span>crtData,</span>
<span id="cb6-48"><a href="#cb6-48" tabindex="-1"></a>                     <span class="at">condopt=</span><span class="fu">list</span>(<span class="at">prior=</span>my_prior))</span>
<span id="cb6-49"><a href="#cb6-49" tabindex="-1"></a></span>
<span id="cb6-50"><a href="#cb6-50" tabindex="-1"></a>  <span class="do">### Fixed effects</span></span>
<span id="cb6-51"><a href="#cb6-51" tabindex="-1"></a>  beta2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>Beta</span>
<span id="cb6-52"><a href="#cb6-52" tabindex="-1"></a>  beta2</span>
<span id="cb6-53"><a href="#cb6-53" tabindex="-1"></a></span>
<span id="cb6-54"><a href="#cb6-54" tabindex="-1"></a>  <span class="do">### Effect size</span></span>
<span id="cb6-55"><a href="#cb6-55" tabindex="-1"></a>  ES2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>ES</span>
<span id="cb6-56"><a href="#cb6-56" tabindex="-1"></a>  ES2</span>
<span id="cb6-57"><a href="#cb6-57" tabindex="-1"></a> </span></code></pre></div>
</div>
</div>
<div id="crtdata-cluster-randomised-trial-data." class="section level1">
<h1><code>crtData</code>: Cluster Randomised Trial Data.</h1>
<div id="description-3" class="section level2">
<h2>Description</h2>
<p>A cluster randomised trial dataset containing 22 schools. The data
contains a random sample of test data of pupils and not actual trial
data.</p>
</div>
<div id="format" class="section level2">
<h2>Format</h2>
<p>A data frame with 265 rows and 5 variables</p>
</div>
<div id="details-1" class="section level2">
<h2>Details</h2>
<ul>
<li><p>Posttest: posttest scores</p></li>
<li><p>Prettest: prettest scores</p></li>
<li><p>Intervention: the indicator for intervention groups in a two arm
trial, coded as 1 for intervention group and 0 for control
group.</p></li>
<li><p>Intervention2: a simulated indicator for intervention groups in a
three arm trial.</p></li>
<li><p>School: numeric school identifier</p></li>
</ul>
</div>
</div>
<div id="crtfreq-analysis-of-cluster-randomised-education-trials-using-multilevel-model-under-a-frequentist-setting." class="section level1">
<h1><code>crtFREQ</code>: Analysis of Cluster Randomised Education
Trials using Multilevel Model under a Frequentist Setting.</h1>
<div id="description-4" class="section level2">
<h2>Description</h2>
<p><code>crtFREQ</code> performs analysis of cluster randomised
education trials using a multilevel model under a frequentist
setting.</p>
</div>
<div id="usage-2" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">crtFREQ</span>(formula, random, intervention, baseln, nPerm, nBoot, seed, data)</span></code></pre></div>
</div>
<div id="arguments-2" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>formula</code></td>
<td>the model to be analysed is of the form y ~ x1+x2+…. Where y is the
outcome variable and Xs are the independent variables.</td>
</tr>
<tr class="even">
<td><code>random</code></td>
<td>a string variable specifying the “clustering variable” as contained
in the data. See example below.</td>
</tr>
<tr class="odd">
<td><code>intervention</code></td>
<td>a string variable specifying the “intervention variable” as
appearing in the formula and the data. See example below.</td>
</tr>
<tr class="even">
<td><code>baseln</code></td>
<td>A string variable allowing the user to specify the reference
category for intervention variable. When not specified, the first level
will be used as a reference.</td>
</tr>
<tr class="odd">
<td><code>nPerm</code></td>
<td>number of permutations required to generate a permutated
p-value.</td>
</tr>
<tr class="even">
<td><code>nBoot</code></td>
<td>number of bootstraps required to generate bootstrap confidence
intervals.</td>
</tr>
<tr class="odd">
<td><code>type</code></td>
<td>method of bootstrapping including case re-sampling at student level
“case(1)”, case re-sampling at school level “case(2)”, case re-sampling
at both levels “case(1,2)” and residual bootstrapping using “residual”.
If not provided, default will be case re-sampling at student level.</td>
</tr>
<tr class="even">
<td><code>ci</code></td>
<td>method for bootstrap confidence interval calculations; options are
the Basic (Hall’s) confidence interval “basic” or the simple percentile
confidence interval “percentile”. If not provided default will be
percentile.</td>
</tr>
<tr class="odd">
<td><code>seed</code></td>
<td>seed required for bootstrapping and permutation procedure, if not
provided default seed will be used.</td>
</tr>
<tr class="even">
<td><code>data</code></td>
<td>data frame containing the data to be analysed.</td>
</tr>
</tbody>
</table>
</div>
<div id="value-2" class="section level2">
<h2>Value</h2>
<p>S3 object; a list consisting of</p>
<ul>
<li><p><code>Beta</code> : Estimates and confidence intervals for
variables specified in the model.</p></li>
<li><p><code>ES</code> : Conditional Hedges’ g effect size and its 95 %
confidence intervals. If nBoot is not specified, 95% confidence
intervals are based on standard errors. If nBoot is specified, they are
non-parametric bootstrapped confidence intervals.</p></li>
<li><p><code>covParm</code> : A vector of variance decomposition into
between cluster variance (Schools) and within cluster variance (Pupils).
It also contains intra-cluster correlation (ICC).</p></li>
<li><p><code>SchEffects</code> : A vector of the estimated deviation of
each school from the intercept.</p></li>
<li><p><code>Perm</code> : A “nPerm x 2w” matrix containing permutated
effect sizes using residual variance and total variance. “w” denotes
number of intervention. “w=1” for two arm trial and “w=2” for three arm
trial excluding the control group. It is produced only when
<code>nPerm</code> is specified.</p></li>
<li><p><code>Bootstrap</code> : A “nBoot x 2w” matrix containing the
bootstrapped effect sizes using residual variance (Within) and total
variance (Total), where “w” denotes number of interventions excluding
the control group. For example, “w=1” for a two arm trial and “w=2” for
a three arm trial excluding the control group. It is only produced when
<code>nBoot</code> is specified.</p></li>
<li><p><code>Unconditional</code> : A list of unconditional effect
sizes, covParm, Perm and Bootstrap obtained based on variances from the
unconditional model (model with only the intercept as a fixed
effect).</p></li>
</ul>
</div>
<div id="examples-2" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a> </span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a> </span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a> <span class="fu">data</span>(crtData)</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a> </span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a> <span class="do">########################################################</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a> <span class="do">## MLM analysis of cluster randomised trials + 1.96SE ##</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a> <span class="do">########################################################</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a> </span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a> output1 <span class="ot">&lt;-</span> <span class="fu">crtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,<span class="at">random=</span><span class="st">&quot;School&quot;</span>,</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">data=</span>crtData)</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a> </span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a> </span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a> <span class="do">### Fixed effects</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a> beta <span class="ot">&lt;-</span> output1<span class="sc">$</span>Beta</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a> beta</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a> </span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a> <span class="do">### Effect size</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a> ES1 <span class="ot">&lt;-</span> output1<span class="sc">$</span>ES</span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a> ES1</span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a> </span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a> <span class="do">## Covariance matrix</span></span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a> covParm <span class="ot">&lt;-</span> output1<span class="sc">$</span>covParm</span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a> covParm</span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a> </span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a> <span class="do">### plot random effects for schools</span></span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a> </span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a> <span class="fu">plot</span>(output1)</span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a> </span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a> <span class="do">##################################################</span></span>
<span id="cb8-30"><a href="#cb8-30" tabindex="-1"></a> <span class="do">## MLM analysis of cluster randomised trials    ##</span></span>
<span id="cb8-31"><a href="#cb8-31" tabindex="-1"></a> <span class="do">## with residual bootstrap confidence intervals ##</span></span>
<span id="cb8-32"><a href="#cb8-32" tabindex="-1"></a> <span class="do">##################################################</span></span>
<span id="cb8-33"><a href="#cb8-33" tabindex="-1"></a> </span>
<span id="cb8-34"><a href="#cb8-34" tabindex="-1"></a> output2 <span class="ot">&lt;-</span> <span class="fu">crtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,<span class="at">random=</span><span class="st">&quot;School&quot;</span>,</span>
<span id="cb8-35"><a href="#cb8-35" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nBoot=</span><span class="dv">1000</span>,<span class="at">type=</span><span class="st">&quot;residual&quot;</span>,<span class="at">data=</span>crtData)</span>
<span id="cb8-36"><a href="#cb8-36" tabindex="-1"></a> </span>
<span id="cb8-37"><a href="#cb8-37" tabindex="-1"></a> </span>
<span id="cb8-38"><a href="#cb8-38" tabindex="-1"></a> <span class="do">### Effect size</span></span>
<span id="cb8-39"><a href="#cb8-39" tabindex="-1"></a> </span>
<span id="cb8-40"><a href="#cb8-40" tabindex="-1"></a> ES2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>ES</span>
<span id="cb8-41"><a href="#cb8-41" tabindex="-1"></a> ES2</span>
<span id="cb8-42"><a href="#cb8-42" tabindex="-1"></a> </span>
<span id="cb8-43"><a href="#cb8-43" tabindex="-1"></a> <span class="do">### plot bootstrapped values</span></span>
<span id="cb8-44"><a href="#cb8-44" tabindex="-1"></a> </span>
<span id="cb8-45"><a href="#cb8-45" tabindex="-1"></a> <span class="fu">plot</span>(output2, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb8-46"><a href="#cb8-46" tabindex="-1"></a> </span>
<span id="cb8-47"><a href="#cb8-47" tabindex="-1"></a> <span class="do">#######################################################################</span></span>
<span id="cb8-48"><a href="#cb8-48" tabindex="-1"></a> <span class="do">## MLM analysis of cluster randomised trials with permutation p-value##</span></span>
<span id="cb8-49"><a href="#cb8-49" tabindex="-1"></a> <span class="do">#######################################################################</span></span>
<span id="cb8-50"><a href="#cb8-50" tabindex="-1"></a> </span>
<span id="cb8-51"><a href="#cb8-51" tabindex="-1"></a> output3 <span class="ot">&lt;-</span> <span class="fu">crtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,<span class="at">random=</span><span class="st">&quot;School&quot;</span>,</span>
<span id="cb8-52"><a href="#cb8-52" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nPerm=</span><span class="dv">1000</span>,<span class="at">data=</span>crtData)</span>
<span id="cb8-53"><a href="#cb8-53" tabindex="-1"></a> </span>
<span id="cb8-54"><a href="#cb8-54" tabindex="-1"></a> <span class="do">### Effect size</span></span>
<span id="cb8-55"><a href="#cb8-55" tabindex="-1"></a> </span>
<span id="cb8-56"><a href="#cb8-56" tabindex="-1"></a> ES3 <span class="ot">&lt;-</span> output3<span class="sc">$</span>ES</span>
<span id="cb8-57"><a href="#cb8-57" tabindex="-1"></a> ES3</span>
<span id="cb8-58"><a href="#cb8-58" tabindex="-1"></a> </span>
<span id="cb8-59"><a href="#cb8-59" tabindex="-1"></a> </span>
<span id="cb8-60"><a href="#cb8-60" tabindex="-1"></a> <span class="do">### plot permutated values</span></span>
<span id="cb8-61"><a href="#cb8-61" tabindex="-1"></a> </span>
<span id="cb8-62"><a href="#cb8-62" tabindex="-1"></a> <span class="fu">plot</span>(output3, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb8-63"><a href="#cb8-63" tabindex="-1"></a> </span></code></pre></div>
</div>
</div>
<div id="eefanalytics-defunct-defunct-functions-in-eefanalytics" class="section level1">
<h1><code>eefAnalytics-defunct</code>: Defunct functions in
eefAnalytics</h1>
<div id="description-5" class="section level2">
<h2>Description</h2>
<p>These functions are marked as defunct and have been removed from
eefAnalytics.</p>
<p>These functions are marked as defunct and have been removed from
eefAnalytics.</p>
<p>These functions are marked as defunct and have been removed from
eefAnalytics.</p>
<p>These functions are marked as defunct and have been removed from
eefAnalytics.</p>
</div>
<div id="usage-3" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">mlmbayes</span>(...)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">caceMSTBoot</span>(...)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="fu">caceCRTBoot</span>(...)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="fu">caceSRTBoot</span>(...)</span></code></pre></div>
</div>
</div>
<div id="mstbayes-bayesian-analysis-of-multisite-randomised-education-trials-using-vague-priors." class="section level1">
<h1><code>mstBayes</code>: Bayesian analysis of Multisite Randomised
Education Trials using Vague Priors.</h1>
<div id="description-6" class="section level2">
<h2>Description</h2>
<p><code>mstBayes</code> performs Bayesian multilevel analysis of
multisite randomised education trials, utilising vague priors and JAGS
language to fit the model. It assumes hierarchical clustering, such as
students within schools, and estimates treatment effects while
accounting for this structure.</p>
</div>
<div id="usage-4" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">mstBayes</span>(formula, random, intervention, nSim, data)</span></code></pre></div>
</div>
<div id="arguments-3" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>formula</code></td>
<td>the model to be analysed is of the form y ~ x1+x2+…. Where y is the
outcome variable and Xs are the independent variables.</td>
</tr>
<tr class="even">
<td><code>random</code></td>
<td>a string variable specifying the “clustering variable” as contained
in the data. See example below.</td>
</tr>
<tr class="odd">
<td><code>intervention</code></td>
<td>a string variable specifying the “intervention variable” as
appearing in the formula and the data. See example below.</td>
</tr>
<tr class="even">
<td><code>nsim</code></td>
<td>number of MCMC iterations per chain. Default is 2000.</td>
</tr>
<tr class="odd">
<td><code>data</code></td>
<td>data frame containing the data to be analysed.</td>
</tr>
</tbody>
</table>
</div>
<div id="value-3" class="section level2">
<h2>Value</h2>
<p>S3 object; a list consisting of</p>
<ul>
<li><p><code>Beta</code> : Estimates and credible intervals for
variables specified in the model. Use <code>summary.eefAnalytics</code>
to get Rhat and effective sample size for each estimate.</p></li>
<li><p><code>ES</code> : Conditional Hedges’ g effect size and its 95 %
credible intervals.</p></li>
<li><p><code>covParm</code> : A list of variance decomposition into
between cluster variance-covariance matrix (schools and school by
intervention) and within cluster variance (Pupils). It also contains
intra-cluster correlation (ICC).</p></li>
<li><p><code>SchEffects</code> : A vector of the estimated deviation of
each school from the intercept and intervention slope.</p></li>
<li><p><code>ProbES</code> : A matrix of Bayesian posterior
probabilities such that the observed effect size is greater than or
equal to a pre-specified threshold(s).</p></li>
<li><p><code>Unconditional</code> : A list of unconditional effect
sizes, covParm and ProbES obtained based on between and within cluster
variances from the unconditional model (model with only the intercept as
a fixed effect).</p></li>
</ul>
</div>
<div id="examples-3" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a> </span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="fu">data</span>(mstData)</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="do">########################################################</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="do">## Bayesian analysis of multisite randomised trials   ##</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>  <span class="do">########################################################</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">mstBayes</span>(<span class="at">formula =</span> Posttest <span class="sc">~</span> Prettest <span class="sc">+</span> Intervention,</span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>                     <span class="at">random =</span> <span class="st">&quot;School&quot;</span>,</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>                     <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,</span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>                     <span class="at">nSim =</span> <span class="dv">10000</span>,</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>                     <span class="at">data =</span> mstData)</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>  output</span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>  <span class="do">### Fixed effects</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>  beta <span class="ot">&lt;-</span> output<span class="sc">$</span>Beta</span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>  beta</span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>  <span class="do">### Effect size</span></span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>  ES1 <span class="ot">&lt;-</span> output<span class="sc">$</span>ES</span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a>  ES1</span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>  <span class="do">## Covariance matrix</span></span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a>  covParm <span class="ot">&lt;-</span> output<span class="sc">$</span>covParm</span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a>  covParm</span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a>  <span class="do">### plot random effects for schools</span></span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a></span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a>  <span class="fu">plot</span>(output)</span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a>  <span class="do">### plot posterior probability of an effect size to be bigger than a pre-specified threshold</span></span>
<span id="cb11-32"><a href="#cb11-32" tabindex="-1"></a></span>
<span id="cb11-33"><a href="#cb11-33" tabindex="-1"></a>  <span class="fu">plot</span>(output,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb11-34"><a href="#cb11-34" tabindex="-1"></a></span>
<span id="cb11-35"><a href="#cb11-35" tabindex="-1"></a></span>
<span id="cb11-36"><a href="#cb11-36" tabindex="-1"></a>  <span class="do">#############################################################################################</span></span>
<span id="cb11-37"><a href="#cb11-37" tabindex="-1"></a>  <span class="do">## Bayesian analysis of multisite randomised trials using informative priors for treatment ##</span></span>
<span id="cb11-38"><a href="#cb11-38" tabindex="-1"></a>  <span class="do">#############################################################################################</span></span>
<span id="cb11-39"><a href="#cb11-39" tabindex="-1"></a></span>
<span id="cb11-40"><a href="#cb11-40" tabindex="-1"></a>  <span class="do">### define priors for explanatory variables</span></span>
<span id="cb11-41"><a href="#cb11-41" tabindex="-1"></a></span>
<span id="cb11-42"><a href="#cb11-42" tabindex="-1"></a>  my_prior <span class="ot">&lt;-</span> <span class="fu">normal</span>(<span class="at">location =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">6</span>), <span class="at">scale =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">1</span>))</span>
<span id="cb11-43"><a href="#cb11-43" tabindex="-1"></a></span>
<span id="cb11-44"><a href="#cb11-44" tabindex="-1"></a>  <span class="do">### specify the priors for the conditional model only</span></span>
<span id="cb11-45"><a href="#cb11-45" tabindex="-1"></a></span>
<span id="cb11-46"><a href="#cb11-46" tabindex="-1"></a>  output2 <span class="ot">&lt;-</span> <span class="fu">mstBayes</span>(Posttest<span class="sc">~</span> Prettest<span class="sc">+</span>Intervention,<span class="at">random=</span><span class="st">&quot;School&quot;</span>,</span>
<span id="cb11-47"><a href="#cb11-47" tabindex="-1"></a>                      <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nsim=</span><span class="dv">2000</span>,<span class="at">data=</span>mstData,</span>
<span id="cb11-48"><a href="#cb11-48" tabindex="-1"></a>                      <span class="at">condopt=</span><span class="fu">list</span>(<span class="at">prior=</span>my_prior))</span>
<span id="cb11-49"><a href="#cb11-49" tabindex="-1"></a></span>
<span id="cb11-50"><a href="#cb11-50" tabindex="-1"></a>  <span class="do">### Fixed effects</span></span>
<span id="cb11-51"><a href="#cb11-51" tabindex="-1"></a>  beta2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>Beta</span>
<span id="cb11-52"><a href="#cb11-52" tabindex="-1"></a>  beta2</span>
<span id="cb11-53"><a href="#cb11-53" tabindex="-1"></a></span>
<span id="cb11-54"><a href="#cb11-54" tabindex="-1"></a>  <span class="do">### Effect size</span></span>
<span id="cb11-55"><a href="#cb11-55" tabindex="-1"></a>  ES2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>ES</span>
<span id="cb11-56"><a href="#cb11-56" tabindex="-1"></a>  ES2</span>
<span id="cb11-57"><a href="#cb11-57" tabindex="-1"></a>  </span></code></pre></div>
</div>
</div>
<div id="mstdata-multisite-trial-data." class="section level1">
<h1><code>mstData</code>: Multisite Trial Data.</h1>
<div id="description-7" class="section level2">
<h2>Description</h2>
<p>A multisite trial dataset containing 54 schools. This data contains a
random sample of test data of pupils and not actual trial data.</p>
</div>
<div id="format-1" class="section level2">
<h2>Format</h2>
<p>A data frame with 210 rows and 5 variables</p>
</div>
<div id="details-2" class="section level2">
<h2>Details</h2>
<ul>
<li><p>Posttest: posttest scores</p></li>
<li><p>Prettest: prettest scores</p></li>
<li><p>Intervention: the indicator for the intervention groups in a two
arm trial, coded as 1 for intervention group and 0 for control
group.</p></li>
<li><p>Intervention2: a simulated indicator for intervention groups in a
three arm trial.</p></li>
<li><p>School: numeric school identifier</p></li>
</ul>
</div>
</div>
<div id="mstfreq-analysis-of-multisite-randomised-education-trials-using-multilevel-model-under-a-frequentist-setting." class="section level1">
<h1><code>mstFREQ</code>: Analysis of Multisite Randomised Education
Trials using Multilevel Model under a Frequentist Setting.</h1>
<div id="description-8" class="section level2">
<h2>Description</h2>
<p><code>mstFREQ</code> performs analysis of multisite randomised
education trials using a multilevel model under a frequentist
setting.</p>
</div>
<div id="usage-5" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">mstFREQ</span>(formula, random, intervention, baseln, nPerm, data, seed, nBoot)</span></code></pre></div>
</div>
<div id="arguments-4" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>formula</code></td>
<td>the model to be analysed is of the form y ~ x1+x2+…. Where y is the
outcome variable and Xs are the independent variables.</td>
</tr>
<tr class="even">
<td><code>random</code></td>
<td>a string variable specifying the “clustering variable” as contained
in the data. See example below.</td>
</tr>
<tr class="odd">
<td><code>intervention</code></td>
<td>a string variable specifying the “intervention variable” as
appearing in the formula and the data. See example below.</td>
</tr>
<tr class="even">
<td><code>baseln</code></td>
<td>A string variable allowing the user to specify the reference
category for intervention variable. When not specified, the first level
will be used as a reference.</td>
</tr>
<tr class="odd">
<td><code>nPerm</code></td>
<td>number of permutations required to generate permutated p-value.</td>
</tr>
<tr class="even">
<td><code>data</code></td>
<td>data frame containing the data to be analysed.</td>
</tr>
<tr class="odd">
<td><code>seed</code></td>
<td>seed required for bootstrapping and permutation procedure, if not
provided default seed will be used.</td>
</tr>
<tr class="even">
<td><code>nBoot</code></td>
<td>number of bootstraps required to generate bootstrap confidence
intervals.</td>
</tr>
<tr class="odd">
<td><code>type</code></td>
<td>method of bootstrapping including case re-sampling at student level
“case(1)”, case re-sampling at school level “case(2)”, case re-sampling
at both levels “case(1,2)” and residual bootstrapping using “residual”.
If not provided, default will be case re-sampling at student level.</td>
</tr>
<tr class="even">
<td><code>ci</code></td>
<td>method for bootstrap confidence interval calculations; options are
the Basic (Hall’s) confidence interval “basic” or the simple percentile
confidence interval “percentile”. If not provided default will be
percentile.</td>
</tr>
</tbody>
</table>
</div>
<div id="value-4" class="section level2">
<h2>Value</h2>
<p>S3 object; a list consisting of</p>
<ul>
<li><p><code>Beta</code> : Estimates and confidence intervals for
variables specified in the model.</p></li>
<li><p><code>ES</code> : Conditional Hedge’s g effect size (ES) and its
95 % confidence intervals. If nBoot is not specified, 95% confidence
intervals are based on standard errors. If nBoot is specified, they are
non-parametric bootstrapped confidence intervals.</p></li>
<li><p><code>covParm</code> : A list of variance decomposition into
between cluster variance-covariance matrix (schools and school by
intervention) and within cluster variance (Pupils). It also contains
intra-cluster correlation (ICC).</p></li>
<li><p><code>SchEffects</code> : A vector of the estimated deviation of
each school from the intercept and intervention slope.</p></li>
<li><p><code>Perm</code> : A “nPerm x 2w” matrix containing permutated
effect sizes using residual variance and total variance. “w” denotes
number of intervention. “w=1” for two arm trial and “w=2” for three arm
trial excluding the control group. It is produced only when
<code>nPerm</code> is specified.</p></li>
<li><p><code>Bootstrap</code> : A “nBoot x 2w” matrix containing the
bootstrapped effect sizes using residual variance (Within) and total
variance (Total), where “w” denotes number of interventions excluding
the control group. For example, “w=1” for a two arm trial and “w=2” for
a three arm trial excluding the control group. It is only produced when
<code>nBoot</code> is specified.</p></li>
<li><p><code>Unconditional</code> : A list of unconditional effect
sizes, covParm, Perm and Bootstrap obtained based on variances from the
unconditional model (model with only the intercept as a fixed
effect).</p></li>
</ul>
</div>
<div id="examples-4" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a> </span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a> </span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a> <span class="fu">data</span>(mstData)</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a> </span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a> <span class="do">###############################################</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a> <span class="do">## MLM analysis of multisite trials + 1.96SE ##</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a> <span class="do">###############################################</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a> </span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a> output1 <span class="ot">&lt;-</span> <span class="fu">mstFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,<span class="at">random=</span><span class="st">&quot;School&quot;</span>,</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">data=</span>mstData)</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a> </span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a> </span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a> <span class="do">### Fixed effects</span></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a> beta <span class="ot">&lt;-</span> output1<span class="sc">$</span>Beta</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a> beta</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a> </span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a> <span class="do">### Effect size</span></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a> ES1 <span class="ot">&lt;-</span> output1<span class="sc">$</span>ES</span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a> ES1</span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a> </span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a> <span class="do">## Covariance matrix</span></span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a> covParm <span class="ot">&lt;-</span> output1<span class="sc">$</span>covParm</span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a> covParm</span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a> </span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a> <span class="do">### plot random effects for schools</span></span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a> </span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a> <span class="fu">plot</span>(output1)</span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a> </span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a> <span class="do">###############################################</span></span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a> <span class="do">## MLM analysis of multisite trials          ##</span></span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a> <span class="do">## with bootstrap confidence intervals       ##</span></span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a> <span class="do">###############################################</span></span>
<span id="cb13-33"><a href="#cb13-33" tabindex="-1"></a> </span>
<span id="cb13-34"><a href="#cb13-34" tabindex="-1"></a> output2 <span class="ot">&lt;-</span> <span class="fu">mstFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,<span class="at">random=</span><span class="st">&quot;School&quot;</span>,</span>
<span id="cb13-35"><a href="#cb13-35" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nBoot=</span><span class="dv">1000</span>,<span class="at">data=</span>mstData)</span>
<span id="cb13-36"><a href="#cb13-36" tabindex="-1"></a> </span>
<span id="cb13-37"><a href="#cb13-37" tabindex="-1"></a> tp <span class="ot">&lt;-</span> output2<span class="sc">$</span>Bootstrap</span>
<span id="cb13-38"><a href="#cb13-38" tabindex="-1"></a> <span class="do">### Effect size</span></span>
<span id="cb13-39"><a href="#cb13-39" tabindex="-1"></a> </span>
<span id="cb13-40"><a href="#cb13-40" tabindex="-1"></a> ES2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>ES</span>
<span id="cb13-41"><a href="#cb13-41" tabindex="-1"></a> ES2</span>
<span id="cb13-42"><a href="#cb13-42" tabindex="-1"></a> </span>
<span id="cb13-43"><a href="#cb13-43" tabindex="-1"></a> <span class="do">### plot bootstrapped values</span></span>
<span id="cb13-44"><a href="#cb13-44" tabindex="-1"></a> </span>
<span id="cb13-45"><a href="#cb13-45" tabindex="-1"></a> <span class="fu">plot</span>(output2, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb13-46"><a href="#cb13-46" tabindex="-1"></a> </span>
<span id="cb13-47"><a href="#cb13-47" tabindex="-1"></a> <span class="do">################################################################</span></span>
<span id="cb13-48"><a href="#cb13-48" tabindex="-1"></a> <span class="do">## MLM analysis of mutltisite trials with permutation p-value ##</span></span>
<span id="cb13-49"><a href="#cb13-49" tabindex="-1"></a> <span class="do">################################################################</span></span>
<span id="cb13-50"><a href="#cb13-50" tabindex="-1"></a> </span>
<span id="cb13-51"><a href="#cb13-51" tabindex="-1"></a> output3 <span class="ot">&lt;-</span> <span class="fu">mstFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,<span class="at">random=</span><span class="st">&quot;School&quot;</span>,</span>
<span id="cb13-52"><a href="#cb13-52" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nPerm=</span><span class="dv">1000</span>,<span class="at">data=</span>mstData)</span>
<span id="cb13-53"><a href="#cb13-53" tabindex="-1"></a> </span>
<span id="cb13-54"><a href="#cb13-54" tabindex="-1"></a> ES3 <span class="ot">&lt;-</span> output3<span class="sc">$</span>ES</span>
<span id="cb13-55"><a href="#cb13-55" tabindex="-1"></a> ES3</span>
<span id="cb13-56"><a href="#cb13-56" tabindex="-1"></a> </span>
<span id="cb13-57"><a href="#cb13-57" tabindex="-1"></a> <span class="do">#### plot permutated values</span></span>
<span id="cb13-58"><a href="#cb13-58" tabindex="-1"></a> </span>
<span id="cb13-59"><a href="#cb13-59" tabindex="-1"></a> <span class="fu">plot</span>(output3, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb13-60"><a href="#cb13-60" tabindex="-1"></a> </span></code></pre></div>
</div>
</div>
<div id="plot.eefanalytics-a-plot-method-for-an-eefanalytics-s3-object-obtained-from-the-eefanalytics-package." class="section level1">
<h1><code>plot.eefAnalytics</code>: A plot method for an eefAnalytics S3
object obtained from the eefAnalytics package.</h1>
<div id="description-9" class="section level2">
<h2>Description</h2>
<p>Plots different figures based on output from eefAnalytics
package.</p>
</div>
<div id="usage-6" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">list</span>(<span class="fu">list</span>(<span class="st">&quot;plot&quot;</span>), <span class="fu">list</span>(<span class="st">&quot;eefAnalytics&quot;</span>))(x, group, <span class="at">Conditional =</span> <span class="cn">TRUE</span>, <span class="at">ES_Total =</span> <span class="cn">TRUE</span>, <span class="at">slope =</span> <span class="cn">FALSE</span>, ...)</span></code></pre></div>
</div>
<div id="arguments-5" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>x</code></td>
<td>an output object from the eefAnalytics package.</td>
</tr>
<tr class="even">
<td><code>group</code></td>
<td>a string/scalar value indicating which intervention to plot. This
must be one of the values of intervention variable excluding the control
group. For a two arm trial, the maximum number of values to consider is
1 and 2 for three arm trial.</td>
</tr>
<tr class="odd">
<td><code>Conditional</code></td>
<td>a logical value to indicate whether to plot the conditional effect
size. The default is Conditional=TRUE, otherwise Conditional=FALSE
should be specified for plot based on the unconditional effect size.
Conditional variance is total or residual variance from a multilevel
model with fixed effects, whilst unconditional variance is total
variance or residual variance from a multilevel model with only
intercept as fixed effect.</td>
</tr>
<tr class="even">
<td><code>ES_Total</code></td>
<td>A logical value indicating whether to plot the effect size based on
total variance or within school variance. The default is ES_Total=TRUE,
to plot the effect size using total variance. ES_Total=FALSE should be
specified for the effect size based on within school or residuals
variance.</td>
</tr>
<tr class="odd">
<td><code>slope</code></td>
<td>A logical value indicating whether to return the plot of random
intercept (default is slope=FALSE). return other school-by-intervention
interaction random slope (s) is slope=TRUE. This argument is suitable
only for mstBayes and mstFREQ functions.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>arguments passed to <a href="https://rdrr.io/r/graphics/plot.default.html"><code>plot.default</code></a></td>
</tr>
</tbody>
</table>
</div>
<div id="details-3" class="section level2">
<h2>Details</h2>
<p>Plot produces a graphical visualisation depending on which model is
fitted:</p>
<ul>
<li><p>For <code>srtFREQ()</code> , plot can only be used when
<code>nBoot</code> or <code>nPerm</code> is specified to visualise the
distribution of bootstrapped or permutated values.</p></li>
<li><p>For <code>crtFREQ()</code> or <code>mstFREQ()</code> , plot shows
the distribution of random intercepts when <code>group=NULL</code> . It
produces histogram of permutated or bootstrapped values when
<code>group</code> is specified and either <code>nBoot</code> or
<code>nPerm</code> is also specified.</p></li>
</ul>
</div>
<div id="value-5" class="section level2">
<h2>Value</h2>
<p>Returns relevant plots for each model.</p>
</div>
<div id="examples-5" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a> </span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a> </span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a> <span class="do">#### read data</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a> <span class="fu">data</span>(mstData)</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a> <span class="fu">data</span>(crtData)</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a> </span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a> </span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a> <span class="do">##### SRT #####</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a> </span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a> <span class="do">##### Bootstrapped</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a> </span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a> outputSRTBoot <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a> <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,<span class="at">nBoot=</span><span class="dv">1000</span>, <span class="at">data =</span> mstData)</span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a> <span class="fu">plot</span>(outputSRTBoot,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a> </span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a> <span class="do">##### Permutation</span></span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a> outputSRTPerm <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a> <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,<span class="at">nPerm=</span><span class="dv">1000</span>, <span class="at">data =</span> mstData)</span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a> </span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a> <span class="fu">plot</span>(outputSRTPerm,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a> </span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a> </span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb15-26"><a href="#cb15-26" tabindex="-1"></a> <span class="do">##### MST #####</span></span>
<span id="cb15-27"><a href="#cb15-27" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb15-28"><a href="#cb15-28" tabindex="-1"></a> </span>
<span id="cb15-29"><a href="#cb15-29" tabindex="-1"></a> </span>
<span id="cb15-30"><a href="#cb15-30" tabindex="-1"></a> <span class="do">#### Random intercepts</span></span>
<span id="cb15-31"><a href="#cb15-31" tabindex="-1"></a> outputMST <span class="ot">&lt;-</span> <span class="fu">mstFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb15-32"><a href="#cb15-32" tabindex="-1"></a> <span class="at">random =</span> <span class="st">&quot;School&quot;</span>, <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>, <span class="at">data =</span> mstData)</span>
<span id="cb15-33"><a href="#cb15-33" tabindex="-1"></a> <span class="fu">plot</span>(outputMST)</span>
<span id="cb15-34"><a href="#cb15-34" tabindex="-1"></a> </span>
<span id="cb15-35"><a href="#cb15-35" tabindex="-1"></a> </span>
<span id="cb15-36"><a href="#cb15-36" tabindex="-1"></a> <span class="do">#### Bootstrapped</span></span>
<span id="cb15-37"><a href="#cb15-37" tabindex="-1"></a> outputMSTBoot <span class="ot">&lt;-</span> <span class="fu">mstFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb15-38"><a href="#cb15-38" tabindex="-1"></a> <span class="at">random =</span> <span class="st">&quot;School&quot;</span>, <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,</span>
<span id="cb15-39"><a href="#cb15-39" tabindex="-1"></a> <span class="at">nBoot =</span> <span class="dv">1000</span>, <span class="at">data =</span> mstData)</span>
<span id="cb15-40"><a href="#cb15-40" tabindex="-1"></a> </span>
<span id="cb15-41"><a href="#cb15-41" tabindex="-1"></a> <span class="fu">plot</span>(outputMSTBoot)</span>
<span id="cb15-42"><a href="#cb15-42" tabindex="-1"></a> <span class="fu">plot</span>(outputMSTBoot,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb15-43"><a href="#cb15-43" tabindex="-1"></a> </span>
<span id="cb15-44"><a href="#cb15-44" tabindex="-1"></a> <span class="do">#### Permutation</span></span>
<span id="cb15-45"><a href="#cb15-45" tabindex="-1"></a> outputMSTPerm <span class="ot">&lt;-</span> <span class="fu">mstFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest,</span>
<span id="cb15-46"><a href="#cb15-46" tabindex="-1"></a> <span class="at">random =</span> <span class="st">&quot;School&quot;</span>, <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>,</span>
<span id="cb15-47"><a href="#cb15-47" tabindex="-1"></a> <span class="at">nPerm =</span> <span class="dv">1000</span>, <span class="at">data =</span> mstData)</span>
<span id="cb15-48"><a href="#cb15-48" tabindex="-1"></a> <span class="fu">plot</span>(outputMSTPerm)</span>
<span id="cb15-49"><a href="#cb15-49" tabindex="-1"></a> <span class="fu">plot</span>(outputMSTPerm,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb15-50"><a href="#cb15-50" tabindex="-1"></a> </span>
<span id="cb15-51"><a href="#cb15-51" tabindex="-1"></a> </span>
<span id="cb15-52"><a href="#cb15-52" tabindex="-1"></a> </span>
<span id="cb15-53"><a href="#cb15-53" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb15-54"><a href="#cb15-54" tabindex="-1"></a> <span class="do">##### CRT #####</span></span>
<span id="cb15-55"><a href="#cb15-55" tabindex="-1"></a> <span class="do">###############</span></span>
<span id="cb15-56"><a href="#cb15-56" tabindex="-1"></a> </span>
<span id="cb15-57"><a href="#cb15-57" tabindex="-1"></a> <span class="do">#### Random intercepts</span></span>
<span id="cb15-58"><a href="#cb15-58" tabindex="-1"></a> outputCRT <span class="ot">&lt;-</span> <span class="fu">crtFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest, <span class="at">random =</span> <span class="st">&quot;School&quot;</span>,</span>
<span id="cb15-59"><a href="#cb15-59" tabindex="-1"></a> <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>, <span class="at">data =</span> crtData)</span>
<span id="cb15-60"><a href="#cb15-60" tabindex="-1"></a> <span class="fu">plot</span>(outputCRT)</span>
<span id="cb15-61"><a href="#cb15-61" tabindex="-1"></a> </span>
<span id="cb15-62"><a href="#cb15-62" tabindex="-1"></a> </span>
<span id="cb15-63"><a href="#cb15-63" tabindex="-1"></a> <span class="do">## Bootstrapped</span></span>
<span id="cb15-64"><a href="#cb15-64" tabindex="-1"></a> outputCRTBoot <span class="ot">&lt;-</span> <span class="fu">crtFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest, <span class="at">random =</span> <span class="st">&quot;School&quot;</span>,</span>
<span id="cb15-65"><a href="#cb15-65" tabindex="-1"></a> <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>, <span class="at">nBoot =</span> <span class="dv">1000</span>, <span class="at">data =</span> crtData)</span>
<span id="cb15-66"><a href="#cb15-66" tabindex="-1"></a> </span>
<span id="cb15-67"><a href="#cb15-67" tabindex="-1"></a> <span class="fu">plot</span>(outputCRTBoot,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb15-68"><a href="#cb15-68" tabindex="-1"></a> </span>
<span id="cb15-69"><a href="#cb15-69" tabindex="-1"></a> </span>
<span id="cb15-70"><a href="#cb15-70" tabindex="-1"></a> <span class="do">##Permutation</span></span>
<span id="cb15-71"><a href="#cb15-71" tabindex="-1"></a> outputCRTPerm <span class="ot">&lt;-</span> <span class="fu">crtFREQ</span>(Posttest<span class="sc">~</span> Intervention <span class="sc">+</span> Prettest, <span class="at">random =</span> <span class="st">&quot;School&quot;</span>,</span>
<span id="cb15-72"><a href="#cb15-72" tabindex="-1"></a> <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>, <span class="at">nPerm =</span> <span class="dv">1000</span>, <span class="at">data =</span> crtData)</span>
<span id="cb15-73"><a href="#cb15-73" tabindex="-1"></a> </span>
<span id="cb15-74"><a href="#cb15-74" tabindex="-1"></a> <span class="fu">plot</span>(outputCRTPerm,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb15-75"><a href="#cb15-75" tabindex="-1"></a> </span></code></pre></div>
</div>
</div>
<div id="print.eefanalytics-print-for-a-fitted-model-represented-by-an-eefanalytics-object." class="section level1">
<h1><code>print.eefAnalytics</code>: Print for a fitted model
represented by an <code>eefAnalytics</code> object.</h1>
<div id="description-10" class="section level2">
<h2>Description</h2>
<p>Print for a fitted model represented by an <code>eefAnalytics</code>
object.</p>
</div>
<div id="usage-7" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">list</span>(<span class="fu">list</span>(<span class="st">&quot;print&quot;</span>), <span class="fu">list</span>(<span class="st">&quot;eefAnalytics&quot;</span>))(x, ...)</span></code></pre></div>
</div>
<div id="arguments-6" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>x</code></td>
<td>Object of class <code>eefAnalytics</code></td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Additional arguments of <a href="https://rdrr.io/r/base/print.html"><code>print</code></a></td>
</tr>
</tbody>
</table>
</div>
<div id="value-6" class="section level2">
<h2>Value</h2>
<p>Print conditional and unconditional effect sizes.</p>
</div>
</div>
<div id="srtbayes-analysis-of-simple-randomised-education-trials-using-bayesian-linear-regression-model-with-vague-priors." class="section level1">
<h1><code>srtBayes</code>: Analysis of Simple Randomised Education
Trials using Bayesian Linear Regression Model with Vague Priors.</h1>
<div id="description-11" class="section level2">
<h2>Description</h2>
<p><code>srtBayes</code> performs Bayesian multilevel analysis of Simple
Randomised Education Trials (SRT), utilising vague priors and JAGS
language to fit the model. This can also be used with schools as fixed
effects.</p>
</div>
<div id="usage-8" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">srtBayes</span>(formula, intervention, <span class="at">nsim =</span> <span class="dv">10000</span>, data)</span></code></pre></div>
</div>
<div id="arguments-7" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>formula</code></td>
<td>The model to be analysed is of the form y~x1+x2+…. Where y is the
outcome variable and Xs are the independent variables.</td>
</tr>
<tr class="even">
<td><code>intervention</code></td>
<td>A string variable specifying the “intervention variable” as
appearing in the formula and the data. See example below.</td>
</tr>
<tr class="odd">
<td><code>nsim</code></td>
<td>A number of MCMC iterations per chain. Default is 2000.</td>
</tr>
<tr class="even">
<td><code>data</code></td>
<td>Data frame containing the data to be analysed.</td>
</tr>
</tbody>
</table>
</div>
<div id="value-7" class="section level2">
<h2>Value</h2>
<p>S3 object; a list consisting of</p>
<ul>
<li><p><code>Beta</code> : Estimates and credible intervals for the
variables specified in the model. Use <code>summary.eefAnalytics</code>
to get Rhat and effective sample size for each estimate.</p></li>
<li><p><code>ES</code> : Conditional Hedges’ g effect size and its 95 %
credible intervals.</p></li>
<li><p><code>sigma</code> : Residual variance.</p></li>
<li><p><code>ProbES</code> : A matrix of Bayesian posterior
probabilities such that the observed effect size is greater than or
equal to a pre-specified threshold(s).</p></li>
<li><p><code>Unconditional</code> : A list of unconditional effect
sizes, sigma2 and ProbES obtained based on residual variance from the
unconditional model (model with only the intercept as a fixed
effect).</p></li>
</ul>
</div>
<div id="examples-6" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a> </span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="fu">data</span>(mstData)</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="do">########################################################</span></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="do">## Bayesian analysis of simple randomised trials      ##</span></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="do">########################################################</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">srtBayes</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>        <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nsim=</span><span class="dv">2000</span>,<span class="at">data=</span>mstData)</span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a><span class="do">### Fixed effects</span></span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>beta <span class="ot">&lt;-</span> output<span class="sc">$</span>Beta</span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a>beta</span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a><span class="do">### Effect size</span></span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a>ES1 <span class="ot">&lt;-</span> output<span class="sc">$</span>ES</span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a>ES1</span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a><span class="do">## Covariance matrix</span></span>
<span id="cb18-20"><a href="#cb18-20" tabindex="-1"></a>covParm <span class="ot">&lt;-</span> output<span class="sc">$</span>covParm</span>
<span id="cb18-21"><a href="#cb18-21" tabindex="-1"></a>covParm</span>
<span id="cb18-22"><a href="#cb18-22" tabindex="-1"></a></span>
<span id="cb18-23"><a href="#cb18-23" tabindex="-1"></a><span class="do">### plot random effects for schools</span></span>
<span id="cb18-24"><a href="#cb18-24" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" tabindex="-1"></a><span class="fu">plot</span>(output)</span>
<span id="cb18-26"><a href="#cb18-26" tabindex="-1"></a></span>
<span id="cb18-27"><a href="#cb18-27" tabindex="-1"></a><span class="do">### plot posterior probability of an effect size to be bigger than a pre-specified threshold</span></span>
<span id="cb18-28"><a href="#cb18-28" tabindex="-1"></a></span>
<span id="cb18-29"><a href="#cb18-29" tabindex="-1"></a><span class="fu">plot</span>(output,<span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb18-30"><a href="#cb18-30" tabindex="-1"></a></span>
<span id="cb18-31"><a href="#cb18-31" tabindex="-1"></a><span class="do">###########################################################################################</span></span>
<span id="cb18-32"><a href="#cb18-32" tabindex="-1"></a><span class="do">## Bayesian analysis of simple randomised trials using informative priors for treatment  ##</span></span>
<span id="cb18-33"><a href="#cb18-33" tabindex="-1"></a><span class="do">###########################################################################################</span></span>
<span id="cb18-34"><a href="#cb18-34" tabindex="-1"></a></span>
<span id="cb18-35"><a href="#cb18-35" tabindex="-1"></a><span class="do">### define priors for explanatory variables</span></span>
<span id="cb18-36"><a href="#cb18-36" tabindex="-1"></a></span>
<span id="cb18-37"><a href="#cb18-37" tabindex="-1"></a>my_prior <span class="ot">&lt;-</span> <span class="fu">normal</span>(<span class="at">location =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">6</span>), <span class="at">scale =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">1</span>))</span>
<span id="cb18-38"><a href="#cb18-38" tabindex="-1"></a></span>
<span id="cb18-39"><a href="#cb18-39" tabindex="-1"></a><span class="do">### specify the priors for the conditional model only</span></span>
<span id="cb18-40"><a href="#cb18-40" tabindex="-1"></a></span>
<span id="cb18-41"><a href="#cb18-41" tabindex="-1"></a>output2 <span class="ot">&lt;-</span> <span class="fu">srtBayes</span>(Posttest<span class="sc">~</span> Prettest<span class="sc">+</span>Intervention,</span>
<span id="cb18-42"><a href="#cb18-42" tabindex="-1"></a>                    <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,</span>
<span id="cb18-43"><a href="#cb18-43" tabindex="-1"></a>                    <span class="at">nsim=</span><span class="dv">2000</span>,<span class="at">data=</span>mstData,</span>
<span id="cb18-44"><a href="#cb18-44" tabindex="-1"></a>                    <span class="at">condopt=</span><span class="fu">list</span>(<span class="at">prior=</span>my_prior))</span>
<span id="cb18-45"><a href="#cb18-45" tabindex="-1"></a></span>
<span id="cb18-46"><a href="#cb18-46" tabindex="-1"></a><span class="do">### Fixed effects</span></span>
<span id="cb18-47"><a href="#cb18-47" tabindex="-1"></a>beta2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>Beta</span>
<span id="cb18-48"><a href="#cb18-48" tabindex="-1"></a>beta2</span>
<span id="cb18-49"><a href="#cb18-49" tabindex="-1"></a></span>
<span id="cb18-50"><a href="#cb18-50" tabindex="-1"></a><span class="do">### Effect size</span></span>
<span id="cb18-51"><a href="#cb18-51" tabindex="-1"></a>ES2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>ES</span>
<span id="cb18-52"><a href="#cb18-52" tabindex="-1"></a>ES2</span></code></pre></div>
</div>
</div>
<div id="srtfreq-analysis-of-simple-randomised-education-trial-using-linear-regression-model." class="section level1">
<h1><code>srtFREQ</code>: Analysis of Simple Randomised Education Trial
using Linear Regression Model.</h1>
<div id="description-12" class="section level2">
<h2>Description</h2>
<p><code>srtFREQ</code> performs analysis of educational trials under
the assumption of independent errors among pupils. This can also be used
with schools as fixed effects.</p>
</div>
<div id="usage-9" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">srtFREQ</span>(formula, intervention, baseln, nBoot, nPerm, seed, data)</span></code></pre></div>
</div>
<div id="arguments-8" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>formula</code></td>
<td>the model to be analysed is of the form y~x1+x2+…. Where y is the
outcome variable and Xs are the independent variables.</td>
</tr>
<tr class="even">
<td><code>intervention</code></td>
<td>a string variable specifying the “intervention variable” as
appearing in the formula and the data. See example below.</td>
</tr>
<tr class="odd">
<td><code>baseln</code></td>
<td>A string variable allowing the user to specify the reference
category for intervention variable. When not specified, the first level
will be used as a reference.</td>
</tr>
<tr class="even">
<td><code>nBoot</code></td>
<td>number of bootstraps required to generate bootstrap confidence
intervals.</td>
</tr>
<tr class="odd">
<td><code>nPerm</code></td>
<td>number of permutations required to generate permutated p-value.</td>
</tr>
<tr class="even">
<td><code>seed</code></td>
<td>seed required for bootstrapping and permutation procedure, if not
provided default seed will be used.</td>
</tr>
<tr class="odd">
<td><code>ci</code></td>
<td>method for bootstrap confidence interval calculations; options are
the Basic (Hall’s) confidence interval “basic” or the simple percentile
confidence interval “percentile”. If not provided default will be
percentile.</td>
</tr>
<tr class="even">
<td><code>data</code></td>
<td>data frame containing the data to be analysed.</td>
</tr>
</tbody>
</table>
</div>
<div id="value-8" class="section level2">
<h2>Value</h2>
<p>S3 object; a list consisting of</p>
<ul>
<li><p><code>Beta</code> : Estimates and confidence intervals for the
variables specified in the model.</p></li>
<li><p><code>ES</code> : Conditional Hedges’g effect size and its 95 %
confidence intervals. If nBoot is not specified, 95% confidence
intervals are based on standard errors. If nBoot is specified, they are
non-parametric bootstrapped confidence intervals.</p></li>
<li><p><code>sigma2</code> : Residual variance.</p></li>
<li><p><code>Perm</code> : A “nPerm x w” matrix containing permutated
effect sizes using residual variance. “w” denotes number of
intervention. “w=1” for two arm trial and “w=2” for three arm trial
excluding the control group. It is produced only if <code>nPerm</code>
is specified.</p></li>
<li><p><code>Bootstrap</code> : A “nBoot x w” matrix containing the
bootstrapped effect sizes using residual variance. “w” denotes number of
intervention. “w=1” for two arm trial and “w=2” for three arm trial
excluding the control group. It is produced only if <code>nBoot</code>
is specified.</p></li>
<li><p><code>Unconditional</code> : A list of unconditional effect size,
sigma2, Perm and Bootstrap obtained based on variances from the
unconditional model (model with only intercept as fixed
effect).</p></li>
</ul>
</div>
<div id="examples-7" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a> </span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a> </span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a> <span class="fu">data</span>(mstData)</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a> </span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a> <span class="do">###################################################################</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a> <span class="do">## Analysis of simple randomised trials using Hedges Effect Size ##</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a> <span class="do">###################################################################</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a> </span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a> output1 <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,</span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">data=</span>mstData )</span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a> ES1 <span class="ot">&lt;-</span> output1<span class="sc">$</span>ES</span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a> ES1</span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a> </span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a> <span class="do">###################################################################</span></span>
<span id="cb20-15"><a href="#cb20-15" tabindex="-1"></a> <span class="do">## Analysis of simple randomised trials using Hedges Effect Size ##</span></span>
<span id="cb20-16"><a href="#cb20-16" tabindex="-1"></a> <span class="do">## with Permutation p-value                                      ##</span></span>
<span id="cb20-17"><a href="#cb20-17" tabindex="-1"></a> <span class="do">###################################################################</span></span>
<span id="cb20-18"><a href="#cb20-18" tabindex="-1"></a> </span>
<span id="cb20-19"><a href="#cb20-19" tabindex="-1"></a> output2 <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,</span>
<span id="cb20-20"><a href="#cb20-20" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nPerm=</span><span class="dv">1000</span>,<span class="at">data=</span>mstData )</span>
<span id="cb20-21"><a href="#cb20-21" tabindex="-1"></a> </span>
<span id="cb20-22"><a href="#cb20-22" tabindex="-1"></a> ES2 <span class="ot">&lt;-</span> output2<span class="sc">$</span>ES</span>
<span id="cb20-23"><a href="#cb20-23" tabindex="-1"></a> ES2</span>
<span id="cb20-24"><a href="#cb20-24" tabindex="-1"></a> </span>
<span id="cb20-25"><a href="#cb20-25" tabindex="-1"></a> </span>
<span id="cb20-26"><a href="#cb20-26" tabindex="-1"></a> <span class="do">#### plot permutated values</span></span>
<span id="cb20-27"><a href="#cb20-27" tabindex="-1"></a> </span>
<span id="cb20-28"><a href="#cb20-28" tabindex="-1"></a> <span class="fu">plot</span>(output2, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb20-29"><a href="#cb20-29" tabindex="-1"></a> </span>
<span id="cb20-30"><a href="#cb20-30" tabindex="-1"></a> </span>
<span id="cb20-31"><a href="#cb20-31" tabindex="-1"></a> </span>
<span id="cb20-32"><a href="#cb20-32" tabindex="-1"></a> <span class="do">###################################################################</span></span>
<span id="cb20-33"><a href="#cb20-33" tabindex="-1"></a> <span class="do">## Analysis of simple randomised trials using Hedges Effect Size ##</span></span>
<span id="cb20-34"><a href="#cb20-34" tabindex="-1"></a> <span class="do">## with non-parametric Basic bootstrap confidence intervals      ##</span></span>
<span id="cb20-35"><a href="#cb20-35" tabindex="-1"></a> <span class="do">###################################################################</span></span>
<span id="cb20-36"><a href="#cb20-36" tabindex="-1"></a> </span>
<span id="cb20-37"><a href="#cb20-37" tabindex="-1"></a> output3 <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest,</span>
<span id="cb20-38"><a href="#cb20-38" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nBoot=</span><span class="dv">1000</span>,<span class="at">ci=</span><span class="st">&quot;basic&quot;</span>,<span class="at">data=</span>mstData)</span>
<span id="cb20-39"><a href="#cb20-39" tabindex="-1"></a> </span>
<span id="cb20-40"><a href="#cb20-40" tabindex="-1"></a> ES3 <span class="ot">&lt;-</span> output3<span class="sc">$</span>ES</span>
<span id="cb20-41"><a href="#cb20-41" tabindex="-1"></a> ES3</span>
<span id="cb20-42"><a href="#cb20-42" tabindex="-1"></a> </span>
<span id="cb20-43"><a href="#cb20-43" tabindex="-1"></a> <span class="do">### plot bootstrapped values</span></span>
<span id="cb20-44"><a href="#cb20-44" tabindex="-1"></a> </span>
<span id="cb20-45"><a href="#cb20-45" tabindex="-1"></a> <span class="fu">plot</span>(output3, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb20-46"><a href="#cb20-46" tabindex="-1"></a> </span>
<span id="cb20-47"><a href="#cb20-47" tabindex="-1"></a> <span class="do">####################################################################</span></span>
<span id="cb20-48"><a href="#cb20-48" tabindex="-1"></a> <span class="do">## Analysis of simple randomised trials using Hedges&#39; effect size  ##</span></span>
<span id="cb20-49"><a href="#cb20-49" tabindex="-1"></a> <span class="do">##  with schools as fixed effects                                  ##</span></span>
<span id="cb20-50"><a href="#cb20-50" tabindex="-1"></a> <span class="do">####################################################################</span></span>
<span id="cb20-51"><a href="#cb20-51" tabindex="-1"></a> </span>
<span id="cb20-52"><a href="#cb20-52" tabindex="-1"></a> output4 <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest<span class="sc">+</span><span class="fu">as.factor</span>(School),</span>
<span id="cb20-53"><a href="#cb20-53" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">data=</span>mstData )</span>
<span id="cb20-54"><a href="#cb20-54" tabindex="-1"></a> </span>
<span id="cb20-55"><a href="#cb20-55" tabindex="-1"></a> ES4 <span class="ot">&lt;-</span> output4<span class="sc">$</span>ES</span>
<span id="cb20-56"><a href="#cb20-56" tabindex="-1"></a> ES4</span>
<span id="cb20-57"><a href="#cb20-57" tabindex="-1"></a> </span>
<span id="cb20-58"><a href="#cb20-58" tabindex="-1"></a> <span class="do">####################################################################</span></span>
<span id="cb20-59"><a href="#cb20-59" tabindex="-1"></a> <span class="do">## Analysis of simple randomised trials using Hedges&#39; effect size ##</span></span>
<span id="cb20-60"><a href="#cb20-60" tabindex="-1"></a> <span class="do">## with schools as fixed effects and with permutation p-value     ##</span></span>
<span id="cb20-61"><a href="#cb20-61" tabindex="-1"></a> <span class="do">####################################################################</span></span>
<span id="cb20-62"><a href="#cb20-62" tabindex="-1"></a> </span>
<span id="cb20-63"><a href="#cb20-63" tabindex="-1"></a> output5 <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest<span class="sc">+</span><span class="fu">as.factor</span>(School),</span>
<span id="cb20-64"><a href="#cb20-64" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nPerm=</span><span class="dv">1000</span>,<span class="at">data=</span>mstData )</span>
<span id="cb20-65"><a href="#cb20-65" tabindex="-1"></a> </span>
<span id="cb20-66"><a href="#cb20-66" tabindex="-1"></a> ES5 <span class="ot">&lt;-</span> output5<span class="sc">$</span>ES</span>
<span id="cb20-67"><a href="#cb20-67" tabindex="-1"></a> ES5</span>
<span id="cb20-68"><a href="#cb20-68" tabindex="-1"></a> </span>
<span id="cb20-69"><a href="#cb20-69" tabindex="-1"></a> <span class="do">#### plot permutated values</span></span>
<span id="cb20-70"><a href="#cb20-70" tabindex="-1"></a> </span>
<span id="cb20-71"><a href="#cb20-71" tabindex="-1"></a> <span class="fu">plot</span>(output5, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb20-72"><a href="#cb20-72" tabindex="-1"></a> </span>
<span id="cb20-73"><a href="#cb20-73" tabindex="-1"></a> <span class="do">####################################################################</span></span>
<span id="cb20-74"><a href="#cb20-74" tabindex="-1"></a> <span class="do">## Analysis of simple randomised trials using Hedges&#39; effect size ##</span></span>
<span id="cb20-75"><a href="#cb20-75" tabindex="-1"></a> <span class="do">## with schools as fixed effects and with permutation p-value     ##</span></span>
<span id="cb20-76"><a href="#cb20-76" tabindex="-1"></a> <span class="do">####################################################################</span></span>
<span id="cb20-77"><a href="#cb20-77" tabindex="-1"></a> </span>
<span id="cb20-78"><a href="#cb20-78" tabindex="-1"></a> output6 <span class="ot">&lt;-</span> <span class="fu">srtFREQ</span>(Posttest<span class="sc">~</span> Intervention<span class="sc">+</span>Prettest<span class="sc">+</span><span class="fu">as.factor</span>(School),</span>
<span id="cb20-79"><a href="#cb20-79" tabindex="-1"></a> <span class="at">intervention=</span><span class="st">&quot;Intervention&quot;</span>,<span class="at">nBoot=</span><span class="dv">1000</span>,<span class="at">data=</span>mstData)</span>
<span id="cb20-80"><a href="#cb20-80" tabindex="-1"></a> </span>
<span id="cb20-81"><a href="#cb20-81" tabindex="-1"></a> ES6 <span class="ot">&lt;-</span> output6<span class="sc">$</span>ES</span>
<span id="cb20-82"><a href="#cb20-82" tabindex="-1"></a> ES6</span>
<span id="cb20-83"><a href="#cb20-83" tabindex="-1"></a> </span>
<span id="cb20-84"><a href="#cb20-84" tabindex="-1"></a> <span class="do">### plot bootstrapped values</span></span>
<span id="cb20-85"><a href="#cb20-85" tabindex="-1"></a> </span>
<span id="cb20-86"><a href="#cb20-86" tabindex="-1"></a> <span class="fu">plot</span>(output6, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb20-87"><a href="#cb20-87" tabindex="-1"></a> </span></code></pre></div>
</div>
</div>
<div id="gainindex-calculate-the-gain-index-gi-using-jags." class="section level1">
<h1><code>GainIndex</code>: Calculate the Gain Index (GI) using
JAGS.</h1>
<div id="description-13" class="section level2">
<h2>Description</h2>
<p><code>GainIndex</code> computes the Gain Index and other related
statistics for educational intervention data, specifically tailored to
evaluate outcomes based on 2 groups. It supports flexible configurations
for JAGS modeling, including specifying initial values, the number of
iterations, burn-in period, and the number of chains. It automatically
handles data preparation and model file selection based on the specified
number of groups.</p>
</div>
<div id="usage-10" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">GainIndex</span>(</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>data,</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>formula,</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>random,</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>intervention,</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="at">NA.omit =</span> <span class="cn">TRUE</span>,</span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="at">n.iter =</span> <span class="dv">20000</span>,</span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a><span class="at">n.chains =</span> <span class="dv">3</span>,</span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a><span class="at">inits =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a><span class="at">model.file =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a><span class="at">alpha =</span> <span class="fl">0.05</span></span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="arguments-9" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>formula</code></td>
<td>the model to be analysed is of the form y ~ x1+x2+…. Where y is the
outcome variable and Xs are the independent variables. Formula does not
need to include ’Intervention‘ variable.</td>
</tr>
<tr class="even">
<td><code>intervention</code></td>
<td>a string variable specifying the “intervention variable” as
appearing in the formula and the data. See example below.</td>
</tr>
<tr class="odd">
<td><code>random</code></td>
<td>a string variable specifying the “clustering variable” as contained
in the data. See example below.</td>
</tr>
<tr class="even">
<td><code>data</code></td>
<td>A list containing the data for the JAGS model which must include
columns: School, Posttest, Pretest, Intervention. Data should not have
any missing values in these columns.</td>
</tr>
<tr class="odd">
<td><code>NA.omit</code></td>
<td>Optional; a logic to check if omitting missing value. If NA.omit =
TRUE, results will output the percentage of missing value in the four
required columns and then JAGS results. If NA.omit = FALSE, will give a
warning “Please handle missing values before using GainIndex().” If not
provided, the function uses default TRUE.</td>
</tr>
<tr class="even">
<td><code>n.iter</code></td>
<td>Total number of iterations for the MCMC simulation.</td>
</tr>
<tr class="odd">
<td><code>n.chains</code></td>
<td>Number of chains to run in the MCMC simulation.</td>
</tr>
<tr class="even">
<td><code>inits</code></td>
<td>Optional; a list of initial values for the JAGS model. If NULL, the
function generates default initial values.</td>
</tr>
<tr class="odd">
<td><code>model.file</code></td>
<td>Optional; a custom path to the JAGS model file. If not provided, the
function uses default path.</td>
</tr>
<tr class="even">
<td><code>alpha</code></td>
<td>significant level, default alpha = 0.05.</td>
</tr>
<tr class="odd">
<td><code>n.burnin</code></td>
<td>Number of burn-in iterations to be discarded before analysis.</td>
</tr>
</tbody>
</table>
</div>
<div id="value-9" class="section level2">
<h2>Value</h2>
<p>S3 object; a list consisting of</p>
<ul>
<li><p><code>GI</code> : A data frame containing the Gain Index and its
95% confidence intervals, as well as the Progress Index and its 95%
confidence intervals.</p></li>
<li><p><code>Proportions</code> : A data frame showing the proportion of
participants achieving each level of gain (low and high) for both
control and intervention groups.</p></li>
<li><p><code>Timing</code> : A vector with execution time details,
including user and elapsed time in seconds.</p></li>
</ul>
</div>
<div id="examples-8" class="section level2">
<h2>Examples</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="do">######### EXAMPLE ONE: crtData #########</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="fu">data</span>(crtData)</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>output1 <span class="ot">&lt;-</span> <span class="fu">GainIndex</span>(<span class="at">data =</span> crtData, <span class="at">formula =</span> Posttest<span class="sc">~</span>Prettest, <span class="at">random =</span> <span class="st">&quot;School&quot;</span>,</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>                     <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>, <span class="at">NA.omit =</span> T, <span class="at">alpha =</span> <span class="fl">0.05</span>)</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>output1</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a><span class="do">########## EXAMPLE TWO: mstData ######</span></span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="fu">data</span>(mstData)</span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>output1 <span class="ot">&lt;-</span> <span class="fu">GainIndex</span>(<span class="at">data =</span> mstData, <span class="at">formula =</span> Posttest<span class="sc">~</span>Prettest, <span class="at">random =</span> <span class="st">&quot;School&quot;</span>,</span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>                     <span class="at">intervention =</span> <span class="st">&quot;Intervention&quot;</span>, <span class="at">NA.omit =</span> T, <span class="at">alpha =</span> <span class="fl">0.05</span>)</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a>output1</span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a> </span></code></pre></div>
</div>
</div>
<div id="summary.eefanalytics-summary-for-a-fitted-model-represented-by-an-eefanalytics-object." class="section level1">
<h1><code>summary.eefAnalytics</code>: Summary for a fitted model
represented by an <code>eefAnalytics</code> object.</h1>
<div id="description-14" class="section level2">
<h2>Description</h2>
<p>Summary for a fitted model represented by an
<code>eefAnalytics</code> object.</p>
</div>
<div id="usage-11" class="section level2">
<h2>Usage</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">list</span>(<span class="fu">list</span>(<span class="st">&quot;summary&quot;</span>), <span class="fu">list</span>(<span class="st">&quot;eefAnalytics&quot;</span>))(object, ...)</span></code></pre></div>
</div>
<div id="arguments-10" class="section level2">
<h2>Arguments</h2>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>object</code></td>
<td>Object of class <code>eefAnalytics</code></td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Additional arguments of <a href="https://rdrr.io/r/base/summary.html"><code>summary</code></a></td>
</tr>
</tbody>
</table>
</div>
<div id="value-10" class="section level2">
<h2>Value</h2>
<p>Returns relevant summary including Rhat and effective sample
sizes.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
